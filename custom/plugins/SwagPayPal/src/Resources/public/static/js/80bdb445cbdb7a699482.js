"use strict";(window["webpackJsonpPluginswag-pay-pal"]=window["webpackJsonpPluginswag-pay-pal"]||[]).push([[462],{1462:function(e,t,s){s.r(t);let i=Shopware.Classes.ApiService;var a=class extends i{constructor(e,t,s="paypal"){super(e,t,s)}validateApiCredentials(e,t,s,a=null){return this.httpClient.get(`_action/${this.getApiBasePath()}/validate-api-credentials`,{params:{clientId:e,clientSecret:t,sandboxActive:s,merchantPayerId:a},headers:this.getBasicHeaders()}).then(i.handleResponse.bind(this))}getApiCredentials(e,t,s,a,n={},h={}){return this.httpClient.post(`_action/${this.getApiBasePath()}/get-api-credentials`,{authCode:e,sharedId:t,nonce:s,sandboxActive:a},{params:n,headers:this.getBasicHeaders(h)}).then(i.handleResponse.bind(this))}getMerchantInformation(e=null){return this.httpClient.get(`_action/${this.getApiBasePath()}/merchant-information`,{params:{salesChannelId:e},headers:this.getBasicHeaders()}).then(i.handleResponse.bind(this))}};let n=Shopware.Classes.ApiService,{EntityCollection:h}=Shopware.Data;var r=class extends n{constructor(e,t,s="paypal/pos"){super(e,t,s)}validateApiCredentials(e,t=null){return this.httpClient.post(`_action/${this.getApiBasePath()}/validate-api-credentials`,{apiKey:e,salesChannelId:t},{headers:this.getBasicHeaders()}).then(n.handleResponse.bind(this))}fetchInformation(e,t=!1){return this.httpClient.post(`${this.getApiBasePath()}/fetch-information`,{apiKey:e.extensions?.paypalPosSalesChannel?.apiKey},{headers:this.getBasicHeaders()}).then(n.handleResponse.bind(this)).then(s=>(delete s.extensions,e.languages??=new h("language","language",Shopware.Context.api),e.currencies??=new h("currency","currency",Shopware.Context.api),e.countries??=new h("country","country",Shopware.Context.api),null!==s.languageId&&(null===e.id||t)?(e.languages.length=0,e.languages.push({id:s.languageId})):delete s.languageId,Object.assign(e,s),e.currencies.length=0,e.currencies.push({id:s.currencyId}),e.countries.length=0,e.countries.push({id:s.countryId}),s))}cloneProductVisibility(e,t){return this.httpClient.post(`_action/${this.getApiBasePath()}/clone-product-visibility`,{fromSalesChannelId:e,toSalesChannelId:t},{headers:this.getBasicHeaders()}).then(n.handleResponse.bind(this))}getProductCount(e,t){return this.httpClient.get(`${this.getApiBasePath()}/product-count`,{params:{salesChannelId:e,cloneSalesChannelId:t},headers:this.getBasicHeaders()}).then(n.handleResponse.bind(this))}generateApiUrl(){return"https://my.izettle.com/apps/api-keys?name=Shopware%20integration&scopes=READ:PURCHASE%20READ:FINANCE%20READ:USERINFO%20READ:PRODUCT%20WRITE:PRODUCT&utm_source=local_partnership&utm_medium=ecommerce&utm_campaign=shopware"}};let o=Shopware.Classes.ApiService;var p=class extends o{basicConfig;constructor(e,t,s="paypal/pos"){super(e,t,s),this.basicConfig={timeout:3e5}}startCompleteSync(e){return this.httpClient.post(`_action/${this.getApiBasePath()}/sync/${e}`,null,{...this.basicConfig,headers:this.getBasicHeaders()}).then(o.handleResponse.bind(this))}startProductSync(e){return this.httpClient.post(`_action/${this.getApiBasePath()}/sync/${e}/products`,null,{...this.basicConfig,headers:this.getBasicHeaders()}).then(o.handleResponse.bind(this))}startInventorySync(e){return this.httpClient.post(`_action/${this.getApiBasePath()}/sync/${e}/inventory`,null,{...this.basicConfig,headers:this.getBasicHeaders()}).then(o.handleResponse.bind(this))}startImageSync(e){return this.httpClient.post(`_action/${this.getApiBasePath()}/sync/${e}/images`,null,{...this.basicConfig,headers:this.getBasicHeaders()}).then(o.handleResponse.bind(this))}startLogCleanup(e){return this.httpClient.post(`_action/${this.getApiBasePath()}/log/cleanup/${e}`,null,{...this.basicConfig,headers:this.getBasicHeaders()}).then(o.handleResponse.bind(this))}abortSync(e){return this.httpClient.post(`_action/${this.getApiBasePath()}/sync/abort/${e}`,null,{...this.basicConfig,headers:this.getBasicHeaders()}).then(o.handleResponse.bind(this))}resetSync(e){return this.httpClient.post(`_action/${this.getApiBasePath()}/sync/reset/${e}`,null,{...this.basicConfig,headers:this.getBasicHeaders()}).then(o.handleResponse.bind(this))}getProductLog(e,t=1,s=10){return this.httpClient.get(`${this.getApiBasePath()}/product-log/${e}`,{...this.basicConfig,headers:this.getBasicHeaders(),params:{page:t,limit:s}}).then(o.handleResponse.bind(this))}};let l=Shopware.Classes.ApiService;var d=class extends l{constructor(e,t,s="paypal/pos"){super(e,t,s)}registerWebhook(e){return this.httpClient.post(`_action/${this.getApiBasePath()}/webhook/registration/${e}`,{},{headers:this.getBasicHeaders()}).then(l.handleResponse.bind(this))}unregisterWebhook(e){return this.httpClient.delete(`_action/${this.getApiBasePath()}/webhook/registration/${e}`,{headers:this.getBasicHeaders()}).then(l.handleResponse.bind(this))}};let c=Shopware.Classes.ApiService;class g extends c{constructor(e,t,s="paypal"){super(e,t,s)}register(e){return this.httpClient.post(`_action/${this.getApiBasePath()}/webhook/register/${e}`,{},{headers:this.getBasicHeaders()}).then(c.handleResponse.bind(this))}unregister(e){return this.httpClient.delete(`_action/${this.getApiBasePath()}/webhook/register/${e}`,{headers:this.getBasicHeaders()}).then(c.handleResponse.bind(this))}status(e){return this.httpClient.get(`_action/${this.getApiBasePath()}/webhook/status/${e}`,{headers:this.getBasicHeaders()}).then(c.handleResponse.bind(this))}}let u=Shopware.Classes.ApiService;var P=class extends u{constructor(e,t,s="paypal"){super(e,t,s)}getPaymentDetails(e,t){return this.httpClient.get(`${this.getApiBasePath()}/payment-details/${e}/${t}`,{headers:this.getBasicHeaders()}).then(u.handleResponse.bind(this))}capturePayment(e,t,s,i,a,n){return this.httpClient.post(`_action/${this.getApiBasePath()}/capture-payment/${t}/${s}/${e}`,{captureAmount:i,currency:a,captureIsFinal:n},{headers:this.getBasicHeaders()}).then(u.handleResponse.bind(this))}refundPayment(e,t,s,i,a,n,h,r){return this.httpClient.post(`_action/${this.getApiBasePath()}/refund-payment/${t}/${s}/${e}`,{refundAmount:i,currency:a,description:n,reason:h,refundInvoiceNumber:r},{headers:this.getBasicHeaders()}).then(u.handleResponse.bind(this))}voidPayment(e,t,s){return this.httpClient.post(`_action/${this.getApiBasePath()}/void-payment/${t}/${s}/${e}`,{},{headers:this.getBasicHeaders()}).then(u.handleResponse.bind(this))}};let C=Shopware.Classes.ApiService;var S=class extends C{constructor(e,t,s="paypal-v2"){super(e,t,s)}getOrderDetails(e,t){return this.httpClient.get(`${this.getApiBasePath()}/order/${e}/${t}`,{headers:this.getBasicHeaders()}).then(C.handleResponse.bind(this))}refundCapture(e,t,s,i,a,n,h,r){return this.doPostRequest(`${this.getApiBasePath("","_action")}/refund-capture/${e}/${t}/${s}`,r,{currency:i,amount:a,invoiceNumber:n,noteToPayer:h})}captureAuthorization(e,t,s,i,a,n,h,r){return this.doPostRequest(`${this.getApiBasePath("","_action")}/capture-authorization/${e}/${t}`,h,{currency:s,amount:i,invoiceNumber:a,noteToPayer:n,isFinal:r})}voidAuthorization(e,t,s){return this.doPostRequest(`${this.getApiBasePath("","_action")}/void-authorization/${e}/${t}`,s)}doPostRequest(e,t,s={}){return this.httpClient.post(e,{partnerAttributionId:t,...s},{headers:this.getBasicHeaders()}).then(C.handleResponse.bind(this))}};let v=Shopware.Classes.ApiService;var $=class extends v{constructor(e,t,s="paypal"){super(e,t,s)}setDefaultPaymentForSalesChannel(e=null){return this.httpClient.post(`_action/${this.getApiBasePath()}/saleschannel-default`,{salesChannelId:e},{headers:this.getBasicHeaders()}).then(v.handleResponse.bind(this))}};let B=Shopware.Classes.ApiService;var y=class extends B{constructor(e,t,s="paypal/dispute"){super(e,t,s)}list(e=null,t=null){return this.httpClient.get(this.getApiBasePath(),{params:{salesChannelId:e,disputeStateFilter:t},headers:this.getBasicHeaders()}).then(B.handleResponse.bind(this))}detail(e,t){return this.httpClient.get(`${this.getApiBasePath()}/${e}`,{params:{salesChannelId:t},headers:this.getBasicHeaders()}).then(B.handleResponse.bind(this))}};let{Application:A}=Shopware,b=A.getContainer("init");A.addServiceProvider("SwagPayPalApiCredentialsService",e=>new a(b.httpClient,e.loginService)),A.addServiceProvider("SwagPayPalPosSettingApiService",e=>new r(b.httpClient,e.loginService)),A.addServiceProvider("SwagPayPalPosApiService",e=>new p(b.httpClient,e.loginService)),A.addServiceProvider("SwagPayPalPosWebhookRegisterService",e=>new d(b.httpClient,e.loginService)),A.addServiceProvider("SwagPayPalWebhookService",e=>new g(b.httpClient,e.loginService)),A.addServiceProvider("SwagPayPalPaymentService",e=>new P(b.httpClient,e.loginService)),A.addServiceProvider("SwagPayPalOrderService",e=>new S(b.httpClient,e.loginService)),A.addServiceProvider("SwagPaypalPaymentMethodService",e=>new $(b.httpClient,e.loginService)),A.addServiceProvider("SwagPayPalDisputeApiService",e=>new y(b.httpClient,e.loginService))}}]);